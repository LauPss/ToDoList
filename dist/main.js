(()=>{"use strict";function e(){document.querySelectorAll(".taskContainer").forEach((e=>{e.remove()}))}function t(e,t,n,d,i,a){return{title:e,description:t,dueDate:n,priority:d,notes:i,checklist:a}}const n=[t("Feed the cats","Give the kitties a snacc.","12:00","medium","15g each.",["Franklin","Trevor"]),t("Programme for at least 1h","Work on the ToDo List.","10:00","high","Remember to use npx webpack after every change to a .js file.",[]),t("Take the dog out for a walk","Remember to take the shortcut.","16:00","low","Stay outside for at least 1h30m.",[])];function d(t){t.forEach(((n,i)=>{const a=document.getElementById("listContainer"),c=document.createElement("div"),l=document.createElement("li"),s=document.createElement("input"),o=document.createElement("label"),r=document.createElement("span"),m=document.createElement("button"),u=document.createElement("button"),p=document.createElement("button");l.dataset.indexNumber=i,l.classList.add("taskContainer"),l.id=i,c.id="taskHeader",s.id=n.title,s.classList.add("taskCheckbox"),s.name=n.title,s.type="checkbox",s.addEventListener("change",(e=>{s.checked?l.classList.add("completedTask"):l.classList.remove("completedTask")})),o.setAttribute("for",s.id),o.innerText=s.id,r.id="dueDate",r.innerText=n.dueDate,m.id="editButton",m.innerText="Edit",m.addEventListener("click",(n=>{!function(t,n){const i=document.getElementById(n),a=document.createElement("label"),c=document.createElement("label"),l=document.createElement("label"),s=document.createElement("label"),o=document.createElement("label"),r=document.createElement("input"),m=document.createElement("input"),u=document.createElement("input"),p=(document.createElement("input"),document.createElement("input"),document.createElement("input"),document.createElement("input")),h=document.createElement("ol"),E=document.createElement("button"),C=document.createElement("button"),L=document.createElement("button");i.innerHTML="",a.innerText="Title:",c.innerText="Description:",l.innerText="Due Date:",s.innerText="Priority:",o.innerText="Notes:",E.innerText="Add Checklist Item",C.innerText="Save Changes",L.innerText="Back",r.value=t[n].title,m.value=t[n].description,u.value=t[n].dueDate,p.value=t[n].notes;const k=t[n].priority;["low","medium","high"].forEach((e=>{const t=document.createElement("label"),n=document.createElement("input");t.name="priority",n.name="priority",t.innerText=e,n.type="radio",n.value=e,t.appendChild(n),s.appendChild(t),n.value===k&&(n.checked=!0)})),i.appendChild(a),i.appendChild(c),i.appendChild(l),i.appendChild(s),i.appendChild(o),a.appendChild(r),c.appendChild(m),l.appendChild(u),o.appendChild(p),i.appendChild(h),h.appendChild(E),i.appendChild(C),i.appendChild(L),E.addEventListener("click",(e=>{const t=document.createElement("li"),n=document.createElement("input");n.classList.add("editChecklistItems"),h.appendChild(t),t.appendChild(n)})),t[n].checklist.length>0&&t[n].checklist.forEach((e=>{const t=document.createElement("li"),n=document.createElement("input");n.classList.add("editChecklistItems"),n.value=e,h.appendChild(t),t.appendChild(n)})),L.addEventListener("click",(n=>{e(),d(t)})),C.addEventListener("click",(a=>{const c=i.querySelector("input[name=priority]:checked"),l=i.querySelectorAll(".editChecklistItems"),s=[];l.length>0&&l.forEach((e=>{if(""!==e.value){const t=e.value;s.push(t)}})),t[n].title=r.value,t[n].description=m.value,t[n].dueDate=u.value,t[n].priority=c.value,t[n].notes=p.value,t[n].checklist=s,e(),d(t)}))}(t,i)})),u.id="moreButton",u.classList.toggle("hideDetails"),u.innerText="+",p.id="delTaskButton",p.innerText="X",p.addEventListener("click",(n=>{!function(t,n){t.splice(n,1),e(),d(t)}(t,i)})),c.appendChild(s),c.appendChild(o),c.appendChild(r),c.appendChild(m),c.appendChild(u),c.appendChild(p),l.appendChild(c),[n.description,n.notes].forEach((e=>{const t=document.createElement("p");t.innerText=e,t.classList.add("details"),t.classList.add("hidden"),l.appendChild(t)})),"low"===n.priority?l.classList.add("low"):"medium"===n.priority?l.classList.add("medium"):"high"===n.priority&&l.classList.add("high"),a.appendChild(l),function(e,t){const n=e.checklist,d=document.getElementById(t);if(0!==n.length){const e=document.createElement("ol");e.classList.add("details"),e.classList.add("hidden"),d.appendChild(e),n.forEach((t=>{const n=document.createElement("li"),d=document.createElement("input"),i=document.createElement("p");e.classList.add("checklist"),d.type="checkbox",i.innerText=t,e.appendChild(n),n.appendChild(d),n.appendChild(i),d.addEventListener("change",(e=>{n.classList.toggle("completedCheck")}))}))}}(n,i),u.addEventListener("click",(e=>{!function(e){const t=document.getElementById(e),n=t.querySelector("#moreButton"),d=t.querySelectorAll(".details");n.classList.toggle("hideDetails"),n.classList.contains("hideDetails")?n.innerText="+":n.innerText="-",d.forEach((e=>{e.classList.toggle("hidden")}))}(i)}))}))}function i(n){const i=document.getElementById("newTaskContainer"),a=document.createElement("div"),c=document.getElementById("openFormBtn");a.classList.add("hidden"),a.id="formContainer",i.appendChild(a),["title","description","notes"].forEach((e=>{const t=document.createElement("label"),n=document.createElement("input");t.classList.add("newTaskElements"),n.classList.add("newTaskElements"),n.id="input"+e,t.innerText=e+":",t.appendChild(n),a.appendChild(t)}));const l=document.createElement("label");l.innerText="Priority:",l.name="priority",l.classList.add("newTaskElements"),a.appendChild(l),["low","medium","high"].forEach((e=>{const t=document.createElement("label"),n=document.createElement("input");t.name="priority",n.name="priority",t.classList.add("newTaskElements"),n.classList.add("newTaskElements"),t.classList.add("newTaskPriorities"),n.classList.add("newTaskPriorities"),t.innerText=e,n.type="radio",n.value=e,t.appendChild(n),l.appendChild(t),"low"===e&&(n.checked=!0)}));const s=document.createElement("label"),o=document.createElement("input");s.classList.add("newTaskElements"),o.classList.add("newTaskElements"),o.id="inputduedate",s.innerText="Due Date:",o.type="date",s.appendChild(o),a.appendChild(s);const r=document.createElement("ol"),m=document.createElement("label"),u=document.createElement("input");m.classList.add("newTaskElements"),u.classList.add("newTaskElements"),u.id="isChecklistFlag",r.id="formChecklistContainer",m.innerText="Is it a checklist?",u.type="checkbox",m.appendChild(u),a.appendChild(m),a.appendChild(r),u.addEventListener("change",(e=>{!function(){const e=document.getElementById("formChecklistContainer"),t=document.getElementById("isChecklistFlag"),n=document.createElement("button");n.classList.add("addItem"),n.innerText="Add item",n.addEventListener("click",(t=>{const n=document.createElement("li"),d=document.createElement("input");d.classList.add("formChecklistItem"),n.appendChild(d),e.appendChild(n)})),t.checked?e.appendChild(n):e.innerHTML=""}()}));const p=document.createElement("button");p.innerText="Add Task and Close",p.id="addBtn",a.appendChild(p),p.addEventListener("click",(l=>{(function(n){document.getElementById("addBtn");const i=document.getElementById("inputtitle"),a=document.getElementById("inputdescription"),c=document.getElementById("inputduedate"),l=document.querySelector("input[name=priority]:checked"),s=document.getElementById("inputnotes"),o=document.getElementById("formChecklistContainer"),r=document.getElementById("isChecklistFlag"),m=document.querySelectorAll(".formChecklistItem"),u=[];if(m.length>0&&m.forEach((e=>{const t=e.value;u.push(t)})),i.value.length>0){const m=t(i.value,a.value,c.value,l.value,s.value,u);n.push(m),e(),d(n),document.querySelector("input[name=priority][value=low]").checked=!0,r.checked=!1,i.value="",a.value="",c.value="",s.value="",o.innerHTML="",u=[]}})(n),c.classList.remove("hidden"),a.classList.add("hidden"),i.classList.add("hideForm")}));const h=document.createElement("button");h.innerText="Cancel",h.id="cancelBtn",a.appendChild(h),h.addEventListener("click",(e=>{c.classList.remove("hidden"),a.classList.add("hidden"),i.classList.add("hideForm")}))}function a(e){const t=document.getElementById("content"),n=document.createElement("ul"),a=document.createElement("li");n.id="listContainer",t.appendChild(n),a.id="listHeader",a.innerHTML="<h2>TASKS</h2>",n.appendChild(a),function(e){const t=document.getElementById("listContainer"),n=document.createElement("li"),d=document.createElement("button");n.id="newTaskContainer",n.classList.add("hideForm"),d.id="openFormBtn",d.innerText="+",d.addEventListener("click",(e=>{n.classList.remove("hideForm"),a()})),n.appendChild(d),t.appendChild(n),i(e);const a=()=>{if(!1===n.classList.contains("hideForm")){const e=document.getElementById("formContainer");d.classList.add("hidden"),e.classList.remove("hidden")}};a()}(e),d(e)}function c(e,t){return{title:e,tasks:t}}const l=t("title","description","27/07","medium","notes",""),s=t("a","b","30/01","low","notes",""),o=[c("Sample List",n),c("Another List",[l]),c("Yet Another List",[s])];function r(e){const t=JSON.stringify(e);localStorage.setItem("storedArray",t)}function m(e){const t=document.getElementById("projectUl");document.querySelectorAll(".projContainer").forEach((e=>{e.remove()})),e.forEach(((n,d)=>{const i=document.createElement("li"),c=document.createElement("h3"),l=document.createElement("button");i.classList.add("projContainer"),l.classList.add("delProjBtn"),c.innerText=n.title,l.innerText="X",t.appendChild(i),i.appendChild(c),i.appendChild(l),c.addEventListener("click",(e=>{const t=document.getElementById("listContainer");document.querySelectorAll(".projContainer").forEach((e=>{e.classList.remove("selected")})),i.classList.add("selected"),t.remove(),a(n.tasks)})),l.addEventListener("click",(t=>{e.splice(d,1),r(e),m(e),function(e){const t=document.querySelectorAll("li.projContainer.selected"),n=document.querySelectorAll("li.projContainer").item(0),d=document.querySelector("#listContainer"),i=e[0];0!=t.length&&t.forEach((e=>{e.classList.remove("selected")})),n.classList.add("selected"),d.remove(),a(i.tasks)}(e)}))}))}!function(){let e;e=localStorage.getItem("storedArray")?function(){const e=localStorage.getItem("storedArray");return JSON.parse(e)}():o,function(e){const t=document.getElementById("content"),n=document.createElement("nav"),d=document.createElement("ul"),i=document.createElement("h2"),a=document.createElement("li"),l=document.createElement("button"),s=document.createElement("label"),o=document.createElement("input"),u=document.createElement("button"),p=document.createElement("button");i.innerText="PROJECTS",l.innerText="+",s.innerText="Project Title:",u.innerText="Confirm New Project",p.innerText="Cancel",n.id="navBar",d.id="projectUl",a.id="addContainer",l.id="openProjForm",a.classList.add("hideForm"),s.classList.add("hidden"),u.classList.add("hidden"),p.classList.add("hidden"),t.appendChild(n),n.appendChild(d),d.appendChild(i),d.appendChild(a),a.appendChild(l),a.appendChild(s),s.appendChild(o),a.appendChild(u),a.appendChild(p),m(e),l.addEventListener("click",(e=>{a.classList.remove("hideForm"),l.classList.add("hidden"),s.classList.remove("hidden"),u.classList.remove("hidden"),p.classList.remove("hidden")})),u.addEventListener("click",(t=>{if(""!==o.value){const t=c(o.value,[]);a.classList.add("hideForm"),l.classList.remove("hidden"),s.classList.add("hidden"),u.classList.add("hidden"),p.classList.add("hidden"),e.push(t),r(e),m(e),o.value=""}})),p.addEventListener("click",(e=>{a.classList.add("hideForm"),l.classList.remove("hidden"),s.classList.add("hidden"),u.classList.add("hidden"),p.classList.add("hidden"),o.value=""}))}(e);const t=document.querySelectorAll("li.projContainer").item(0),n=e[0].tasks;t.classList.add("selected"),a(n)}()})();